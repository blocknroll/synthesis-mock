<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <title>synthesis-mock</title>
  </head>

  <body>

    <h1>Temperatures:</h1>

    <ul id='temperature-list'>  </ul>

    <!-- <div id="temperature-sensor"></div> -->

    <!-- <form action="">
      <input id="temperature-form" autocomplete="off" /><button>log temp</button>
    </form> -->




    <!-- JS ------------------------------------------------------>
    <script type="text/javascript", src="/socket.io/socket.io.js"></script>
    <script type="text/javascript", src="http://code.jquery.com/jquery-1.11.1.js"></script>

    <script type="text/javascript">
      var socket = io();



      // var temperature-sensor = $('temperature-sensor');
      //
      // temperature-sensor.on('data', function (data) {
      //   (function looper(i) {
      //     setTimeout(function () {
      //       console.log('Temperature: 77');
      //       socket.emit('temperature-logged', 'Temperature: 77');
      //       if (--i) looper(i);
      //     }, 1000)
      //   })(10);
      // });


      (function looper(i) {

        setTimeout(function () {
          console.log('Temperature: 77');
          socket.emit('temperature-logged', 'Temperature: 77');
          if (--i) looper(i);
        }, 1000)

      })(10);

      // $('form').submit(function () {
      //   socket.emit('temperature-logged', $('#temperature-form').val());
      //   $('#temperature-form').val('');
      //   return false;
      // });



      socket.on('temperature-logged', function (temp) {
        $('#temperature-list').append($('<li>').text(temp));
      });

    </script>



  </body>

</html>
